## 8.5 字典

字典是可以迭代，可变的一类对象。  
由键值对所组成的，其中键是不可以重复的，键其实就是一个set集合。  
值是可重复的一类集合，但是值并不是列表，因为值之间是没有顺序的。

### 8.5.1 创建字典

创建字典使用dict()函数，或者用大括号{}将“键：值”对包裹，“键：值”对之间用逗号分隔。  

例如：  

	>>> dict1 = {102:"刘备",103:"关羽",104:"张飞"}
	>>> dict1
	{102: '刘备', 103: '关羽', 104: '张飞'}
	>>> type(dict1)
	<class 'dict'>

空字典的创建：  

	>>> dict2 = {}
	>>> dict2
	{}
	>>> type(dict2)
	<class 'dict'>

注意，空的大括号所创建的是一个字典类型而并不是一个集合类型。  
通过构造函数创建字典，参数为三个二元组：  

	>>> d1 = dict(((102,"刘备"),(103,"关羽"),(104,"张飞")))
	>>> d1
	{102: '刘备', 103: '关羽', 104: '张飞'}

通过构造函数创建字典，参数为三个元组列表：  

	>>> d1 = dict([(102,"刘备"),(103,"关羽"),(104,"张飞")])
	>>> d1
	{102: '刘备', 103: '关羽', 104: '张飞'}

用一个字典创建另外一个字典：  

	>>> d1 = dict({102: '刘备', 103: '关羽', 104: '张飞'})
	>>> d1
	{102: '刘备', 103: '关羽', 104: '张飞'}

特殊形式的创建dict(key1 = value1, key2 = value2, key3 = value3…)在这里key必须是字符串，而且字符串要省略单引号或者双引号，整数做键是不行的。  

例如：

	>>> d1 = dict(key1 = "刘备",key2 = "关羽",key3 = "张飞")
	>>> d1
	{'key1': '刘备', 'key2': '关羽', 'key3': '张飞'}
	>>> d1['key2']
	'关羽'

键值不能为整数：  

	>>> d1 = dict(102 = "刘备",103 = "关羽",104 = "张飞")
	SyntaxError: keyword can't be an expression
	
	>>> d1 = dict(aa = "刘备",bb = "关羽",cc = "张飞")
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞'}

键不能加单引号，否则会报异常： 

	>>> d1 = dict('102' = "刘备",'103' = "关羽",'104' = "张飞")
	SyntaxError: keyword can't be an expression

### 8.5.2 修改字典

字典的修改主要有三个方面：添加、替换、删除。  
其中删除中包括：del语句、pop(key[,default])方法和popitem()方法。  

例如：
添加操作：  

	>>> d1 = dict(aa = "刘备",bb = "关羽",cc = "张飞")
	>>> d1[101] = "刘备"
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}

修改操作：  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1['aa'] = "诸葛亮"
	>>> d1
	{'aa': '诸葛亮', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}

删除操作：  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> del d1['aa']
	>>> d1
	{'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	
	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.pop('aa')
	'刘备'
	>>> d1
	{'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	
	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.pop(101)
	'刘备'
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞'}
	>>> d1.pop(101)
	Traceback (most recent call last):
	  File "<pyshell#106>", line 1, in <module>
	    d1.pop(101)
	KeyError: 101

当指定默认值的时候就不会抛出异常错误：  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.pop(101)
	'刘备'
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞'}
	>>> d1.pop(101)
	Traceback (most recent call last):
	  File "<pyshell#106>", line 1, in <module>
	    d1.pop(101)
	KeyError: 101
	>>> d1.pop(101,'刘备')
	'刘备'

返回删除键值对的二元组：  

	>>> d1.popitem()
	(101, '刘备')
	>>> d1.popitem()
	('cc', '张飞')

### 8.5.3 访问字典

get(key[,default])

通过键返回值，如果键不存在返回默认值。  

例如：  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.get(101)
	'刘备'

items()  

返回字典的所有键值对  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.items()
	dict_items([('aa', '刘备'), ('bb', '关羽'), ('cc', '张飞'), (101, '刘备')])

keys()  

返回字典键视图  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.keys()
	dict_keys(['aa', 'bb', 'cc', 101])

values()  

返回字典值视图  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1.values()
	dict_values(['刘备', '关羽', '张飞', '刘备'])

### 8.5.4 遍历字典

字典的遍历同样是通过for循环进行遍历，但是字典是以键值对的形式存在的，则就会出现遍历键和遍历值的问题存在。  

例如：  

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> for ky in d1.keys():
		print(ky)
	
	aa
	bb
	cc
	101
	
	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> for val in d1.values():
		print(val)
	
	刘备
	关羽
	张飞
	刘备
	    
	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> for id,name in d1.items():
		print(id,name)
	
		
	aa 刘备
	bb 关羽
	cc 张飞
	101 刘备

### 8.5.5 字典推导式

	>>> d1 = {'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> d1
	{'aa': '刘备', 'bb': '关羽', 'cc': '张飞', 101: '刘备'}
	>>> 
	>>> output_dict = {k:v for k,v in d1.items() if v != '刘备' }
	>>> output_dict
	{'bb': '关羽', 'cc': '张飞'}
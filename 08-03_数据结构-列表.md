## 8.3 列表

列表（list）也是一种序列结构，与元组的区别是：  
1. 元组是不可以修改的，列表是可以修改的。  
2. 列表可以修改、追加、删除、替换和插入。

### 8.3.1 列表创建

创建列表也可以通过它的构造函数 'list([iterable])' ，或者用中括号“[]”将元素包裹，元素之间用逗号分隔。与元组的区别是元组将元素放在“（）”中。  

例如：  

	>>> [2,3,4,5,6]
	[2, 3, 4, 5, 6]

如果直接输入元素，则创建的是元组：  

	>>> 2,3,4,5,6
	(2, 3, 4, 5, 6)

创建空列表如下：  

	>>> []
	[]

如果列表只有一个元素，则元素后面不用加“，”号： 

	>>> [2]
	[2]
	>>> [2,]
	[2]

这个和元组是不一样的。   
通过列表的构造函数创建列表：

	>>> list((23,5,56,6))
	[23, 5, 56, 6]
	>>> list([23,5,56,6])
	[23, 5, 56, 6]

参数可以是列表，也可以是元组。  

列表的构造函数的参数也可以是字符串：  

	>>> list("Hello")
	['H', 'e', 'l', 'l', 'o']
	>>> list('Hello')
	['H', 'e', 'l', 'l', 'o']

当列表的构造函数是一个范围的时候，如下：  

	>>> list(range(10))
	[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

### 8.3.2 列表追加元素

列表的追加元素分两种情况：  

1：一种是单个元素  
append()方法是追加单个元素  
2：追加另外一个列表  
列表的追加过程就是在现有的列表末尾进行追加。  
“+”运算符或extend()方法追加另外一个列表  

例如：

	>>> stu_list = ['张三','李四','王五']
	>>> stu_list.append('董六')
	>>> stu_list
	['张三', '李四', '王五', '董六']
	
	>>> stu_list += ['刘备','关羽']
	>>> stu_list
	['张三', '李四', '王五', '董六', '刘备', '关羽']
	
	>>> stu_list.extend(['张飞','赵云'])
	>>> stu_list
	['张三', '李四', '王五', '董六', '刘备', '关羽', '张飞', '赵云']

### 8.3.3 列表插入元素

列表的插入元素指在列表元素中的某个位置插入其他元素。  
使用list.insert(i,x)这个方法，其中i是指列表元素的索引位置，x是指要插入的元素。  

例如：  

	>>> stu_list.insert(2,'君帅')
	>>> stu_list
	['张三', '李四', '君帅', '王五', '董六', '刘备', '关羽', '张飞', '赵云']
	可以使用负索引进行列表的插入：
	>>> stu_list.insert(-2,'君帅')
	>>> stu_list
	['张三', '李四', '君帅', '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']

### 8.3.4 列表替换元素

列表的元素替换就是根据列表的下标索引将元素替换就可以了。  

例如：  

	>>> stu_list
	['张三', '李四', '君帅', '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> 
	>>> stu_list[0] = "1"
	>>> stu_list
	['1', '李四', '君帅', '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']

可以用不同类型的元素进行替换:  

	>>> stu_list
	['1', '李四', '君帅', '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> stu_list[2] = 2
	>>> stu_list
	['1', '李四', 2, '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']

### 8.3.5 列表删除元素

列表删除元素可以使用两种方法：  

1：remove()  
在remove()方法中，只有一个参数，该参数要删除的列表中的元素，如果没有该参数的元素，则抛出异常。  

	>>> stu_list
	['1', '李四', 2, '王五', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> stu_list.remove('王五')
	>>> stu_list
	['1', '李四', 2, '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> stu_list.remove(2)
	>>> stu_list
	['1', '李四', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']

由于已经没有元素2了，再使用该方法删除的时候则抛出异常：  

	>>> stu_list
	['1', '李四', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> stu_list.remove(2)
	Traceback (most recent call last):
	  File "<pyshell#107>", line 1, in <module>
	    stu_list.remove(2)
	ValueError: list.remove(x): x not in list
	>>>

2：pop()  

该方法有两种情况，一种是带着参数i的，如pop(i)，另一种则是不带着参数的情况。其中参数i为列表中的索引值，而且该方法的返回值为已经删除的列表元素。不带参数的pop()方法返回的是列表中的最后一个元素。  

例如：

	>>> stu_list
	['1', '李四', '董六', '刘备', '关羽', '君帅', '张飞', '赵云']
	>>> stu_list.pop(0)
	'1'
	>>> stu_list
	['李四', '董六', '刘备', '关羽', '君帅', '张飞', '赵云'] 
	>>> stu_list.pop()
	'赵云'
	>>> stu_list
	['李四', '董六', '刘备', '关羽', '君帅', '张飞']
	>>>

### 8.3.6 列表中其他常用方法

reverse() —— 倒置列表：  

    >>> a = [0,1,2,3,4,5,6,7,8,9,10]
    >>> a.reverse()
	>>> a
	[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]

copy() —— 复制列表

	>>> a = [0,1,2,3,4,5,6,7,8,9,10]
	>>> a
	[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
	>>> b = a.copy()
	>>> a
	[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
	>>> b
	[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
  
clear() —— 清除列表

	>>> a = [1,2,3,4,5,6,7,8,9,10]
	>>> a
	[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
	>>> a.clear()
	>>> a
	[]

index(x[,i[,j]])  

返回查找x第一次出现的索引，i是开始查找索引，j是结束查找索引。

	>>> a = [1,2,3,4,5,6,7,8,9,10]
	>>> a
	[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
	>>> a.index(4)
	3
	>>> a.index(4,2,5)
	3

count(x) —— 返回x出现的次数  

	>>> a = [1, 2, 3, 3, 5, 6, 3, 8, 9, 10]
	>>> a
	[1, 2, 3, 3, 5, 6, 3, 8, 9, 10]
	>>> a.count(3)
	3

### 8.3.7 列表推导式

在Python语言中有一种特殊的表达式叫推导式。这种推导式在列表中、集合中和字典中都有。  
就是输入一个列表结构，通过推导表达式会输出一个新的列表结构。  
如下：  

    n_list = [x ** 2 for x in range(10) if x % 2 == 0]  

    其中：  
    x ** 2        —— 输出表达式，对每个元素进行计算
    x             —— 元素变量
    rang(10)      —— 输入序列
    if x % 2 == 0 —— 条件语句，即过滤条件（可省略）

例如：  
计算1~10之间偶数的平方：  

	>>> n_list = []
	>>> for x in range(10):
		if x % 2 ==0:
		    n_list.append(x ** 2)
	
		    
	>>> n_list
	[0, 4, 16, 36, 64]
	
	>>> n_list = [x ** 2 for x in range(10) if x % 2 == 0]
	>>> n_list
	[0, 4, 16, 36, 64]

当没有条件的情况下下：  

	>>> n_list = [x ** 2 for x in range(10)]
	>>> n_list
	[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

当有多个条件的情况：  

	>>> n_list = [x ** 2 for x in range(100) if x % 2 == 0 if x > 10 if x<90]
	>>> n_list
	[144, 196, 256, 324, 400, 484, 576, 676, 784, 900, 1024, 1156, 1296, 1444, 1600, 1764, 1936, 2116, 2304, 2500, 2704, 2916, 3136, 3364, 3600, 3844, 4096, 4356, 4624, 4900, 5184, 5476, 5776, 6084, 6400, 6724, 7056, 7396, 7744]
	
	>>> n_list = [x ** 2 for x in range(100) if x % 2 == 0 if x % 5 == 0]
	>>> n_list
	[0, 100, 400, 900, 1600, 2500, 3600, 4900, 6400, 8100]  

另外一种写法：  

	>>> n_list = [x ** 2 for x in range(100) if x % 2 == 0 and x % 5 == 0]
	>>> n_list
	[0, 100, 400, 900, 1600, 2500, 3600, 4900, 6400, 8100]